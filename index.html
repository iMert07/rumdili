<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yapay Dil Sözlüğü</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Yapay Dil Sözlüğü</h1>
        <input type="text" id="searchInput" placeholder="Kelime ara...">
        <div id="result"></div>
    </div>

    <script>
      async function fetchWords() {
        const sheetId = '1R01aIajx6dzHlO-KBiUXUmld2AEvxjCQkUTFGYB3EDM';
        const sheetName = 'Sayfa1';
        const url = `https://opensheet.elk.sh/${sheetId}/${sheetName}`;

        try {
          const response = await fetch(url);
          const data = await response.json();

          const searchInput = document.getElementById('searchInput');
          const resultDiv = document.getElementById('result');

          searchInput.addEventListener('input', () => {
            const query = searchInput.value.trim().toLowerCase();
            if (!query) {
              resultDiv.innerHTML = '';
              return;
            }

            // Her harf girildiğinde anında arama yapacak şekilde
            const matches = data.filter(row =>
              row.Sözcük?.toLowerCase().includes(query) ||
              row['Eş Anlamlılar']?.toLowerCase().split(',').map(x => x.trim()).includes(query)
            );

            if (matches.length > 0) {
              resultDiv.innerHTML = matches.map(match => `
                <div>
                  <strong>${match.Sözcük}</strong><br>
                  <span style="color: gray;">(${match['Eş Anlamlılar']})</span><br>
                  <p>${match.Açıklama || ''}</p>
                </div>
              `).join('');
            } else {
              resultDiv.innerHTML = `<p>Kelime bulunamadı.</p>`;
            }
          });
        } catch (error) {
          console.error('Veri çekme hatası:', error);
        }
      }

      window.onload = fetchWords;
    </script>
</body>
</html>
